"use strict";var http=require("http"),url=require("url"),serevrUtils=require("./serverUtils"),server=http.createServer(function(e,r){var t=url.parse(e.url,!0);if(!t.query||!t.query.url)return serevrUtils.serverUtilsFunctions.pageNotFound(r);if(!t.query.proxy)return serevrUtils.serverUtilsFunctions.notProxyPage(r);var s=url.parse(t.query.url),n=http.createClient(s.port||80,s.hostname),u=n.request("GET",s.pathname||"/",{host:s.hostname});u.end(),u.addListener("response",function(e){r.writeHead(e.statusCode,e.headers),e.addListener("data",function(e){r.write(e)}),e.addListener("end",function(){r.end()})})});server.listen(3e3);